language: generic

python: 3.6

before_install:
#   - sudo add-apt-repository -y ppa:jonathonf/texlive
#   - sudo apt-get -qq update
#   - sudo apt-get install -y --no-install-recommends texlive-latex-base texlive-latex-extra texlive-latex-recommended texlive-fonts-recommended texlive-fonts-extra texlive-lang-european texlive-bibtex-extra biber texlive-science latexmk
  - tlmgr init-usertree
  - tlmgr install inconsolata
  - pip3 install Pygments

addons:
  apt:
    sources:
      - sourceline: 'ppa:jonathonf/texlive'
    packages:
      - texlive-latex-base
      - texlive-latex-extra
      - texlive-latex-recommended
      - texlive-fonts-recommended
      # - texlive-fonts-extra
      - texlive-lang-european
      - texlive-bibtex-extra
      - biber
      - texlive-science
      - latexmk
      - xzdec # maybe not needed for tlmgr?

script:
  - latexmk -pdf -halt-on-error thesis.tex